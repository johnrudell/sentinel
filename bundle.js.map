{"version":3,"sources":["webpack:///webpack/bootstrap e27055bbb3977723a759","webpack:///./lib/scripts/share_tracking.js","webpack:///./lib/scripts/util.js","webpack:///./lib/entry.js","webpack:///./lib/scripts/data.js","webpack:///./lib/scripts/distributions.js"],"names":["margin","top","right","bottom","left","width","height","drawShares","data","name","parseTime","d3","timeParse","bisectDate","bisector","d","date","x","scaleTime","range","y0","scaleLinear","y1","linePrice","line","y","price","curve","curveMonotoneX","lineBalance","balance","svg","select","append","classed","attr","domain","length","call","axisBottom","tickFormat","timeFormat","datum","style","focus0","focus1","on","mousemove","selectAll","x0","invert","mouse","i","d0","d1","Math","floor","shares","earned","principle","text","numberWithCommas","num","toString","replace","loading","$","css","activeButton","btnContainer","document","getElementById","btns","getElementsByClassName","addEventListener","current","className","infoToggle","show","hide","window","publicSpreadsheetUrl","render","Tabletop","init","key","callback","draw","simpleSheet","tabletop","distributionsData","sheets","elements","drawDistributions","nest","rollup","sum","g","entries","distData","forEach","Date","round","value","cMonth","getMonth","cYear","getFullYear","startYear","startMonth","yearDif","inc","yearInc","arrayDates","month","incDate","push","dateMap","personDataFrame","nameFilter","sumValues","person","_","filter","Name","j","dateComp","dateFilter","getTime","priceByDate","parseFloat","removePrice","namePerson","sumShares","reduce","acc","sumEarned","sumBalance","dateObject","arrayOfNames","nameDataMapping","arrayOfObjects","finalData","Total","tooltip","radius","min","color","scaleOrdinal","schemeCategory20","donutWidth","arc","innerRadius","outerRadius","pie","sort","arcOver","path","enter","filteredData","remove","total","map","transition","duration","ease","easeBounce","percent","html","totalButton","distLabel"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e27055bbb3977723a759","import { numberWithCommas } from './util';\n\nconst margin = { top: 20, right: 50, bottom: 30, left: 50 };\nconst width = 960 - margin.left - margin.right;\nconst height = 500 - margin.top - margin.bottom;\n\nexport const drawShares = (data, name) => {\n  const parseTime = d3.timeParse(\"%m/%d/%Y\");\n  const bisectDate = d3.bisector(d => d.date).left;\n\n  const x = d3.scaleTime()\n    .range([0, width]);\n\n  const y0 = d3.scaleLinear()\n    .range([height, 0]);\n\n  const y1 = d3.scaleLinear()\n    .range([height, 0]);\n\n  const linePrice = d3.line()\n    .x(d => x(d.date))\n    .y(d => y0(d.price))\n    .curve(d3.curveMonotoneX);\n\n  const lineBalance = d3.line()\n    .x(d => x(d.date))\n    .y(d => y1(d.balance))\n    .curve(d3.curveMonotoneX);\n\n  let svg = d3.select('#line').append('svg')\n    .classed('sharetracking', true)\n    .attr('width', \"75%\")\n    .attr('height', \"75%\")\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    .attr(\"viewBox\", \"0 0 960 500\")\n    .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    x.domain([data[0].date, data[data.length - 1].date]);\n    y0.domain([(data[0].price * 0.95), (data[data.length - 1].price * 1.05)]);\n    y1.domain([0, (data[data.length - 1].balance * 1.5)]);\n\n    svg.append('g')\n      .attr('class', 'x axis axis--x')\n      .attr('transform', `translate(0, ${height})`)\n      .call(d3.axisBottom(x)\n        .tickFormat(d3.timeFormat(\"%m.%y\")));\n\n    svg.append('path')\n      .datum(data)\n      .attr('class', 'line line0')\n      .attr('d', linePrice);\n\n    svg.append('path')\n      .datum(data)\n      .attr('class', 'line line1')\n      .attr('d', linePrice);\n\n    svg.append('path')\n      .datum(data)\n      .attr('class', 'line')\n      .style('stroke', 'none')\n      .attr('d', lineBalance);\n\n    const focus0 = svg.append('g')\n      .attr('class', 'focus focus0')\n      .style('display', 'none');\n\n    focus0.append('circle')\n      .classed(\"circle-earned\", true)\n      .attr('r', 4.5);\n\n    focus0.append('line')\n      .classed('x', true);\n\n    focus0.append('line')\n      .classed('y', true);\n\n    focus0.append('text')\n      .classed('price', true)\n      .attr(\"transform\", \"translate(-200, -15)\")\n      .attr('dy', '.35em');\n\n    focus0.append('text')\n      .classed('earned', true)\n      .attr(\"transform\", \"translate(-55, -60)\")\n      .style('fill', 'rgba(9, 82, 86, 1)')\n      .attr('dy', '.35em');\n\n    focus0.append('text')\n      .classed('shares', true)\n      .attr('x', 9)\n      .attr('y', 16)\n      .attr('dy', '.35em');\n\n    focus0.append('text')\n      .classed('balance', true)\n      .attr('x', 9)\n      .attr('y', 33)\n      .attr('dy', '.35em');\n\n    const focus1 = svg.append('g')\n      .attr('class', 'focus focus1')\n      .style('display', 'none');\n\n    focus1.append('line')\n      .classed('x', true);\n\n    focus1.append('line')\n      .classed('y  ', true);\n\n    focus1.append('text')\n      .classed('price', true)\n      .attr(\"transform\", \"translate(-225, -15)\")\n      .attr('dy', '.35em');\n\n    focus1.append('text')\n      .classed('shares', true)\n      .attr(\"transform\", \"translate(0, 15)rotate(90)\")\n      .attr('dy', '.35em');\n\n    focus1.append('text')\n      .classed('balance', true)\n      .attr(\"transform\", \"translate(15, -15)\")\n      .attr('dy', '.35em');\n\n    svg.append('rect')\n      .attr('class', 'overlay')\n      .attr('width', width)\n      .attr('height', height)\n      .on('mouseover', () => {\n        focus0.style('display', null);\n        focus1.style('display', null);\n      })\n      .on('mouseout', () => {\n        // only hide share-amount focus\n        // focus0.style('display', 'none')\n        // focus1.style('display', 'none')\n      })\n      .on('mousemove', mousemove);\n\n    d3.selectAll('.line')\n      .style('fill', 'none');\n\n    // earnings background scale line\n    d3.select('.line0')\n      .style('stroke', 'rgba(23, 163, 152, 0.5)');\n\n    // main price line\n    d3.select('.line1')\n      .style('stroke', 'white')\n      .style('stroke-width', '1.5px');\n\n    d3.selectAll('.overlay')\n      .style('fill', 'none')\n      .style('pointer-events', 'all');\n\n    d3.selectAll('.focus')\n      .style('opacity', 0.7);\n\n    d3.selectAll('.focus circle')\n      .style('stroke-dasharray', '3 3')\n      .style('fill', 'none')\n      .style('stroke', 'black');\n\n    d3.selectAll('.focus1 circle')\n      .style('display', 'none');\n\n    d3.selectAll('.focus0 line.x')\n      .style('fill', 'none')\n      .style('stroke', 'lightgrey')\n      .style('stroke-width', '1.5px')\n      .style('stroke-dasharray', '3 3');\n\n    d3.selectAll('.focus0 line.y')\n      .style('stroke', 'none');\n\n    d3.selectAll('.focus1 line.x')\n      .style('stroke', 'rgba(37, 66, 62, 1)')\n      .style('stroke-dasharray', '3 3');\n\n    d3.selectAll('.focus1 line.y')\n      .style('stroke', 'rgba(37, 66, 62, 0.5)')\n      .style('stroke-width', '25px')\n      .style('stroke-dasharray', '0');\n\n    d3.selectAll('.text')\n      .attr('x', 0);\n\n    svg.append('text')\n      .attr('class', 'text text0')\n      .attr('fill', 'black')\n      .attr('y', 0);\n\n    svg.append('text')\n      .attr('class', 'text text1')\n      .style('fill', 'rgba(37, 66, 62, 1)')\n      .attr('y', 20);\n\n    svg.append('text')\n      .attr('class', 'text text2')\n      .style('fill', 'rgba(37, 66, 62, 1)')\n      .attr('y', 40);\n\n    svg.append('text')\n      .attr('class', 'text text3')\n      .style('fill', 'rgba(37, 66, 62, 1)')\n      .attr('x', 120)\n      .attr('y', 0);\n\n    svg.append('text')\n      .attr('class', 'text text4')\n      .style('fill', 'rgba(37, 66, 62, 1)')\n      .attr('x', 120)\n      .attr('y', 20);\n\n    svg.append('text')\n      .attr('class', 'text text5')\n      .style('fill', 'rgba(37, 66, 62, 1)')\n      .attr('x', 120)\n      .attr('y', 40);\n\n    function mousemove() {\n      debugger\n      let x0 = x.invert(d3.mouse(this)[0]);\n      let i = bisectDate(data, x0, 1);\n      let d0 = data[i - 1];\n      let d1 = data[i];\n      let d = x0 - d0.date > d1.date - x0 ? d1 : d0;\n\n      const balance = numberWithCommas(Math.floor(d.balance));\n      const price = numberWithCommas(Math.floor(d.price));\n      const shares = numberWithCommas(Math.floor(d.shares));\n      const earned = numberWithCommas(Math.floor(d.earned));\n      const principle = numberWithCommas(Math.floor(d.principle));\n\n      d3.selectAll(\".focus\").selectAll('line.x')\n        .attr('x1', 0)\n        .attr('x2', -x(d.date))\n        .attr('y1', 0)\n        .attr('y2', 0);\n\n      d3.select('.text0')\n        .text(`${name}`);\n\n      d3.select('.text1')\n        .text(`price: $${price}`);\n\n      d3.select('.text2')\n        .text(`shares: ${shares}`);\n\n      d3.select('.text3')\n        .text(`principle: $${principle}`);\n\n      d3.select('.text4')\n        .text(`earned: $${earned}`);\n\n      d3.select('.text5')\n        .text(`balance: $${balance}`);\n\n      // share value dashed line\n      d3.select(\".focus0\").selectAll('line.x')\n        .attr('x2', -x(d.date) - width);\n\n      // share amt dashed line\n      d3.select(\".focus1\").selectAll('line.x')\n        .attr('x2', x(d.date) + width * 2);\n\n      d3.selectAll(\".focus\").selectAll('line.y')\n        .attr('x1', 0)\n        .attr('x2', 0)\n        .attr('y1', 0);\n\n      focus0.select('line.y')\n        .attr('y2', height - y0(d.price));\n      focus1.select('line.y')\n        .attr('y2', height - y1(d.balance));\n\n      if (d.earned < 0) d.earned = 0;\n\n      // add way to how earnings as a funnel rendering, not entire stroke\n      // d3.select(\".line0\")\n      //   .style('stroke-width', d.earned / 150);\n\n      // circle radius hover for Price\n      d3.select(\".circle-earned\")\n        .attr(\"r\", d.earned / 300);\n\n      // bar width hover for shares\n      d3.select('.focus1 line.y')\n        .style('stroke-width', d.shares / 25);\n\n      // append text\n      focus0.attr('transform', `translate(${x(d.date)}, ${y0(d.price)})`);\n      focus0.select('.price').text(`price: $${price}`);\n      focus0.select('.earned').text(`$${earned} earned`);\n\n      focus1.attr('transform', `translate(${x(d.date)}, ${y1(d.balance)})`);\n      focus1.select('.balance').text(`balance: $${balance}`);\n\n\n      focus1.select('.shares').text(`${shares} shares`);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/share_tracking.js","export const numberWithCommas = num => {\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nexport const loading = () => {\n  $(\".fa-spinner\").css(\"display\", \"inline-block\");\n};\n\nexport const activeButton = () => {\n  const btnContainer = document.getElementById(\"toggle\");\n  const btns = btnContainer.getElementsByClassName('toggle');\n  for (let i = 0; i < btns.length; i++) {\n    btns[i].addEventListener(\"click\", function() {\n      let current = document.getElementsByClassName(\"active\");\n      current[0].className = current[0].className.replace(\" active\", \"\");\n      this.className += \" active\";\n    });\n  }\n};\n\nexport const infoToggle = () => {\n  $('.toggle-about').on('click', function() {\n    $('.about').show();\n    $('.company').hide();\n    $('.future').hide();\n  });\n\n  $('.toggle-company').on('click', function() {\n    $('.company').show();\n    $('.about').hide();\n    $('.future').hide();\n  });\n\n  $('.toggle-future').on('click', function() {\n    $('.future').show();\n    $('.about').hide();\n    $('.company').hide();\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/util.js","import { render } from './scripts/data';\n\nwindow.addEventListener('DOMContentLoaded', render);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","import { drawShares } from './share_tracking.js';\nimport { drawDistributions } from './distributions.js';\nimport {\n  loading,\n  activeButton,\n  infoToggle,\n} from './util.js';\n\nconst publicSpreadsheetUrl = '1Qjl_H4Mf7ChN0UqricRmArzdjIiXQ6fnTIq_OZqKrbU';\n\nexport const render = () => {\n  loading();\n  Tabletop.init({\n    key: publicSpreadsheetUrl,\n    callback: draw,\n    simpleSheet: false\n  })\n}\n\nconst draw = (data, tabletop) => {\n  activeButton();\n  infoToggle();\n\n  $(\".fa-spinner\").css(\"display\", \"none\");\n\n  const distributionsData = tabletop.sheets(\"InterestPurchases\").elements;\n  drawDistributions(distributionsData);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/data.js","import { drawShares } from './share_tracking.js';\n\nexport const drawDistributions = distData => {\n\n  const data = d3.nest()\n    .key(function(d) { return d['Name']; })\n    .rollup(function(d) {\n     return d3.sum(d, function(g) {return g['Shares']; });\n   }).entries(distData);\n\n  data.forEach(function(d) {\n    d.Date = d.Date;\n    d['Name'] = d.key;\n    d['Shares'] = Math.round(d.value);\n  });\n\n  const parseTime = d3.timeParse(\"%m/%d/%Y\");\n\n  const cMonth = new Date().getMonth() + 1;\n  const cYear = new Date().getFullYear();\n\n  const startYear = 2017;\n  let startMonth = 2;\n  const yearDif = cYear - startYear;\n  const inc =  cMonth + yearDif * 12 - startMonth;\n  let yearInc = startYear;\n\n  let arrayDates = [];\n\n  for (let i = 0; i <= inc; i++) {\n    let month = startMonth + i;\n    let incDate;\n    if (month > 12) {\n      month = 1;\n      yearInc = startYear + 1;\n    }\n\n    incDate =  new Date(`${yearInc}-${month}-02`);\n    arrayDates.push(incDate);\n  }\n\n  const dateMap = person => {\n    let personDataFrame = [];\n    let nameFilter;\n    let sumValues;\n\n    if (person === \"Total\") {\n      nameFilter = distData;\n    } else {\n      nameFilter = _.filter(distData, d => {\n        return d.Name === person || d.Name === \"Valuation\";\n      });\n    }\n\n    for (let j = 0; j < arrayDates.length; j++ ) {\n      let dateComp = arrayDates[j];\n\n      const dateFilter = _.filter(nameFilter, d => {\n        return new Date(d.Date).getTime() < dateComp.getTime();\n      });\n\n      let d = dateFilter.length - 1;\n      // get price\n      // convert price from string to float for accuracy\n      const priceByDate = parseFloat(dateFilter[d][\"Price\"]);\n\n      const removePrice = _.filter(dateFilter, d => {\n        return d['Name'] !== 'Valuation';\n      });\n\n      // find name, filtered out 'Valuation'\n      const namePerson = _.filter(removePrice, d => {\n        return d['Name'];\n      });\n\n      //get shares\n      const sumShares = _.reduce(removePrice, (acc, num) => {\n        return acc + parseFloat(num[\"Shares\"]);\n      }, 0);\n\n      //get principle\n      const principle = _.reduce(removePrice, (acc, num) => {\n        return acc + parseFloat(num[\"Value\"]);\n      }, 0);\n\n      //get earned\n      const sumEarned = (sumShares * priceByDate) - principle;\n\n      //get balance\n      const sumBalance = principle + sumEarned;\n\n      const dateObject = {\n        date: arrayDates[j],\n        earned: sumEarned,\n        price:  priceByDate,\n        shares:   sumShares,\n        principle: principle,\n        balance: sumBalance,\n        name: namePerson\n      }\n      personDataFrame.push(dateObject)\n    }\n    return personDataFrame;\n  }\n\n    let arrayOfNames = [];\n    for (let i = 0; i < data.length; i++) {\n      arrayOfNames.push(data[i].key)\n    }\n    arrayOfNames.push(\"Total\")\n\n    const nameDataMapping = array => {\n      const arrayOfObjects = {};\n      for (let i = 0; i < arrayOfNames.length; i++) {\n        arrayOfObjects[arrayOfNames[i]] = dateMap(arrayOfNames[i]);\n      }\n      return arrayOfObjects;\n    }\n\n  const finalData = nameDataMapping(arrayOfNames);\n\n  // render the initial total\n  drawShares(finalData.Total, \"Total Account\");\n\n  const tooltip = d3.select('#pie')\n    .append('div')\n    .attr('class', 'tooltip');\n\n  tooltip.append('div')\n    .attr('class', 'label');\n\n  tooltip.append('div')\n    .attr('class', 'count');\n\n  tooltip.append('div')\n    .attr('class', 'percent');\n\n  const width = 360;\n  const height = 360;\n  const radius = Math.min(width, height) / 2;\n\n  const color = d3.scaleOrdinal(d3.schemeCategory20);\n\n  const svg = d3.select('#pie').append('svg')\n    // .attr('width', \"75%\")\n    // .attr('height', \"75%\")\n    // .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    // .attr(\"viewBox\", \"0 0 360 360\")\n    .classed('distributions', true)\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', 'translate(' + (width / 2) +\n      ',' + (height / 2) + ')');\n\n  const donutWidth = 75;\n\n  const arc = d3.arc()\n    .innerRadius(radius - donutWidth)\n    .outerRadius(radius);\n\n  const pie = d3.pie()\n    .value(function(d) { return d[\"Shares\"]; })\n    .sort(null);\n\n  const arcOver = d3.arc()\n      .innerRadius(radius - donutWidth)\n      .outerRadius(radius + 10);\n\n  const path = svg.selectAll('path')\n    .data(pie(data))\n    .enter()\n    .append('path')\n    .attr('d', arc)\n    .attr('class', 'pie-slice')\n    .attr('fill', function(d, i) {\n      return color(d.data[\"Name\"]);\n    })\n    .on('click', d => {\n      const filteredData = finalData[d.data.Name];\n\n      d3.select('.sharetracking').remove();\n      drawShares(filteredData, d.data.Name);\n    })\n    .on('mouseover', function(d) {\n      const total = d3.sum(data.map(function(d) {\n        return d[\"Shares\"];\n      }));\n      d3.select(this).style('opacity', '1');\n\n      d3.select(this)\n        .transition()\n        .duration(500)\n        .ease(d3.easeBounce)\n        .attr('d', arcOver);\n\n      d3.select('.dist-label').style('opacity', '0');\n\n      const percent = Math.round(1000 * d.data[\"Shares\"] / total) / 10;\n        tooltip.select('.label').html(d.data[\"Name\"]);\n        tooltip.select('.count').html(`${d.data[\"Shares\"]} shares`);\n        tooltip.select('.percent').html(percent + '%');\n        tooltip.style('display', 'flex');\n    })\n    .on('mouseout', function() {\n      d3.select(this).style('opacity', '0.6')\n      d3.select(this).transition()\n        .attr('d', arc);\n      d3.select('.dist-label').style('opacity', '1');\n\n      tooltip.style('display', 'none');\n    });\n\n    const totalButton = d3.select('#pie')\n      .append('button')\n      .attr('class', 'total-button')\n      .text('Total Account')\n      .on('click', d => {\n        d3.select('.sharetracking').remove();\n        drawShares(finalData.Total, \"Total Account\");\n      });\n\n    const distLabel = d3.select('#pie')\n      .append('div')\n      .attr('class', 'dist-label')\n      .text('Distributions');\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/distributions.js"],"sourceRoot":""}