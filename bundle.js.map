{"version":3,"sources":["webpack:///webpack/bootstrap c40a5a0ffb5d69b3039f","webpack:///./lib/scripts/share_tracking.js","webpack:///./lib/entry.js","webpack:///./lib/scripts/data.js","webpack:///./lib/scripts/distributions.js"],"names":["x","y0","y1","lineShareValue","lineShareNumber","drawShares","margin","top","right","bottom","left","width","height","parseTime","d3","timeParse","bisectDate","bisector","d","Date","data","forEach","scaleTime","range","scaleLinear","line","y","curve","curveMonotoneX","svg","select","append","classed","attr","domain","length","extent","call","axisBottom","tickFormat","timeFormat","datum","style","focus0","focus1","on","mousemove","selectAll","x0","invert","mouse","i","d0","d1","text","Price","Shares","shares","updateData","distData","parseInt","console","log","transition","duration","window","addEventListener","publicSpreadsheetUrl","render","loading","Tabletop","init","key","callback","draw","simpleSheet","tabletop","$","css","shareTracking","sheets","elements","distributions","drawDistributions","nest","rollup","sum","g","entries","Math","round","value","cMonth","getMonth","cYear","getFullYear","startYear","startMonth","yearDif","inc","yearInc","arrayDates","month","incDate","push","dateMap","person","graphData","nameFilter","_","filter","Name","sumValues","j","dateComp","dateFilter","getTime","removePrice","reduce","acc","num","object","date","findBalance","obj","getDataByPerson","dataByPerson","name","dataByPersonWithBalance","arrayOfNames","nameDataMapping","arrayOfObjects","finalData","tooltip","radius","min","color","scaleOrdinal","donutWidth","arc","innerRadius","outerRadius","pie","sort","path","enter","filteredData","el","idx","total","map","percent","html","distLabel"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c40a5a0ffb5d69b3039f","let x;\nlet y0;\nlet y1;\nlet lineShareValue;\nlet lineShareNumber;\n\nexport const drawShares = data => {\n\n  const margin = { top: 20, right: 50, bottom: 30, left: 50 };\n  const width = 960 - margin.left - margin.right;\n  const height = 500 - margin.top - margin.bottom;\n\n  const parseTime = d3.timeParse(\"%m/%d/%Y\");\n  const bisectDate = d3.bisector(d => d.Date).left;\n\n  data.forEach(d => {\n    d.Date = parseTime(d.Date);\n    d[\"Price\"] = +d[\"Price\"];\n    d[\"Shares\"] = +d[\"Shares\"];\n  });\n\n  x = d3.scaleTime()\n    .range([0, width]);\n\n  y0 = d3.scaleLinear()\n    .range([height, 0]);\n\n  y1 = d3.scaleLinear()\n    .range([height, 0]);\n\n  lineShareValue = d3.line()\n    .x(d => x(d.Date))\n    .y(d => y0(d[\"Price\"]))\n    .curve(d3.curveMonotoneX);\n\n  lineShareNumber = d3.line()\n    .x(d => x(d.Date))\n    .y(d => y1(d[\"Shares\"]))\n    .curve(d3.curveMonotoneX);\n\n\n  let svg = d3.select('#line').append('svg')\n    .classed('sharetracking', true)\n    .attr('width', \"75%\")\n    .attr('height', \"75%\")\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    .attr(\"viewBox\", \"0 0 960 500\")\n    .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    x.domain([data[0].Date, data[data.length - 1].Date]);\n    y0.domain(d3.extent(data, d => d[\"Price\"]));\n    y1.domain(d3.extent(data, d => d[\"Shares\"]));\n\n    svg.append('g')\n      .attr('class', 'x axis axis--x')\n      .attr('transform', `translate(0, ${height})`)\n      .call(d3.axisBottom(x)\n        // .tickFormat(d3.timeFormat(\"%b %Y\")));\n        // date format year.month for x axis\n        .tickFormat(d3.timeFormat(\"%y.%m\")));\n\n    // x axis line styles\n    // d3.selectAll('.axis path')\n    //   .style('fill', 'none')\n    //   .style('stroke', '#000')\n    //   .style('shape-rendering', 'crispEdges');\n\n    // x axis tick styles\n    // d3.selectAll('.axis line')\n    //   .style('fill', 'none')\n    //   .style('stroke', 'blue')\n    //   .style('shape-rendering', 'crispEdges');\n\n    svg.append('path')\n      .datum(data)\n      .attr('class', 'line line0')\n      .attr('d', lineShareValue);\n\n    svg.append('path')\n      .datum(data)\n      .attr('class', 'line line1')\n      .style('stroke', 'none')\n      .attr('d', lineShareNumber);\n\n    const focus0 = svg.append('g')\n      .attr('class', 'focus focus0')\n      .style('display', 'none');\n\n    focus0.append('circle')\n      .classed(\"price-circle\", true)\n      .attr('r', 4.5);\n\n    focus0.append('line')\n      .classed('x', true);\n\n    focus0.append('line')\n      .classed('y', true);\n\n    focus0.append('text')\n      .classed('share-value', true)\n      .attr(\"transform\", \"translate(-200, -15)\")\n      .attr('dy', '.35em');\n\n    focus0.append('text')\n      .classed('shares', true)\n      .attr('x', 9)\n      .attr('y', 16)\n      .attr('dy', '.35em');\n\n    focus0.append('text')\n      .classed('total-acct-val', true)\n      .attr('x', 9)\n      .attr('y', 33)\n      .attr('dy', '.35em');\n\n    const focus1 = svg.append('g')\n      .attr('class', 'focus focus1')\n      .style('display', 'none');\n\n    focus1.append('line')\n      .classed('x', true);\n\n    focus1.append('line')\n      .classed('y', true);\n\n    focus1.append('text')\n      .classed('share-value', true)\n      .attr(\"transform\", \"translate(-225, -15)\")\n      .attr('dy', '.35em');\n\n    focus1.append('text')\n      .classed('shares', true)\n      .attr(\"transform\", \"translate(0, 15)rotate(90)\")\n      .attr('dy', '.35em');\n\n    focus1.append('text')\n      .classed('total-acct-val', true)\n      .attr(\"transform\", \"translate(15, -15)\")\n      .attr('dy', '.35em');\n\n    svg.append('rect')\n      .attr('class', 'overlay')\n      .attr('width', width)\n      .attr('height', height)\n      .on('mouseover', () => {\n        focus0.style('display', null);\n        focus1.style('display', null);\n      })\n      .on('mouseout', () => {\n        // only hide share-amount focus\n        focus1.style('display', 'none')\n      })\n      .on('mousemove', mousemove);\n\n    d3.selectAll('.line')\n      .style('fill', 'none')\n      .style('stroke-width', '1.5px');\n\n    d3.select('.line0')\n      .style('stroke', 'white');\n\n    d3.selectAll('.overlay')\n      .style('fill', 'none')\n      .style('pointer-events', 'all');\n\n    d3.selectAll('.focus')\n      .style('opacity', 0.7);\n\n    d3.selectAll('.focus circle')\n      .style('stroke-dasharray', '3 3')\n      .style('fill', 'none')\n      .style('stroke', 'black');\n\n    d3.selectAll('.focus1 circle')\n      .style('display', 'none');\n\n    d3.selectAll('.focus0 line.x')\n      .style('fill', 'none')\n      .style('stroke', 'lightgrey')\n      .style('stroke-width', '1.5px')\n      .style('stroke-dasharray', '3 3');\n\n    d3.selectAll('.focus0 line.y')\n      .style('stroke', 'none');\n\n    d3.selectAll('.focus1 line.x')\n      // .attr(\"transform\", \"translate(-12.5, 0)rotate(180)\")\n      .style('stroke', 'rgba(37, 66, 62, 1)')\n      .style('stroke-dasharray', '3 3');\n\n    d3.selectAll('.focus1 line.y')\n      .style('stroke', 'rgba(37, 66, 62, 0.5)')\n      .style('stroke-width', '25px')\n      .style('stroke-dasharray', '0');\n\n    svg.append('text')\n      .attr('class', 'text text0')\n      .attr('y', 0);\n\n    svg.append('text')\n      .attr('class', 'text text1')\n      .attr('y', 20);\n\n    svg.append('text')\n      .attr('class', 'text text2')\n      .attr('y', 40);\n\n    d3.selectAll('.text')\n      .attr('x', 0);\n\n\n    function mousemove() {\n      const x0 = x.invert(d3.mouse(this)[0]);\n      const i = bisectDate(data, x0, 1);\n      const d0 = data[i - 1];\n      const d1 = data[i];\n      const d = x0 - d0.Date > d1.Date - x0 ? d1 : d0;\n\n      d3.selectAll(\".focus\").selectAll('line.x')\n        .attr('x1', 0)\n        .attr('x2', -x(d.Date))\n        .attr('y1', 0)\n        .attr('y2', 0);\n\n      d3.select('.text0')\n        .text(`price: $${d.Price}`);\n\n      d3.select('.text1')\n        .text(`shares: ${d.Shares}`);\n\n      d3.select('.text2')\n        .text(`total account value: $${d['Total Account Value']}`);\n\n      // share value dashed line\n      d3.select(\".focus0\").selectAll('line.x')\n        .attr('x2', -x(d.Date) - width);\n\n      // share amt dashed line\n      d3.select(\".focus1\").selectAll('line.x')\n        .attr('x2', x(d.Date) + width * 2);\n\n      d3.selectAll(\".focus\").selectAll('line.y')\n        .attr('x1', 0)\n        .attr('x2', 0)\n        .attr('y1', 0);\n\n      focus0.select('line.y')\n        .attr('y2', height - y0(d[\"Price\"]));\n      focus1.select('line.y')\n        .attr('y2', height - y1(d[\"Shares\"]));\n\n      // circle radius hover for Price\n      d3.select(\".price-circle\")\n        .attr(\"r\", (d.Price - 75)* 3);\n\n      // append text\n      focus0.attr('transform', `translate(${x(d.Date)}, ${y0(d[\"Price\"])})`);\n      focus0.select('.share-value').text(`share value: $${d[\"Price\"]}`);\n\n      focus1.attr('transform', `translate(${x(d.Date)}, ${y1(d[\"Shares\"])})`);\n      focus1.select('.shares').text(`${d[\"Shares\"]} shares`);\n      focus1.select('.total-acct-val').text(`total account value: $${d[\"Total Account Value\"]}`);\n\n      // If text gets too low, reposition it beyond date overlap\n      const shares = focus1.select('.shares')\n      if ( (height - y1(d[\"Shares\"]) < 25)) {\n        shares.attr(\"transform\", \"translate(0, 30)rotate(90)\")\n      } else {\n        shares.attr(\"transform\", \"translate(0, 15)rotate(90)\")\n      }\n    }\n\n\n\n}\n\nexport const updateData = (distData) => {\n  const parseTime = d3.timeParse(\"%m/%d/%Y\");\n  // console.log(distData)\n  // debugger\n\n  distData.forEach(d => {\n    d[\"Price\"] = +d[\"Price\"];\n    d[\"Shares\"] = +d[\"Shares\"];\n    d[\"Total Account Value\"] = parseInt(d[\"Value\"]);\n  });\n  console.log(distData)\n\n  // debugger\n\n  // Scale the range of the distData again\n  x.domain([distData[0].Date, distData[distData.length - 1].Date]);\n  y0.domain(d3.extent(distData, d => d[\"Price\"]));\n  y1.domain(d3.extent(distData, d => d[\"Shares\"]));\n\n  // Select the section we want to apply our changes to\n  let svg = d3.select('#line').transition();\n\n\n  const lineShareValue = d3.line()\n  .x(d => x(d.Date))\n  .y(d => y0(d[\"Price\"]))\n  .curve(d3.curveMonotoneX);\n\n  const lineShareNumber = d3.line()\n  .x(d => x(d.Date))\n  .y(d => y1(d[\"Shares\"]))\n  .curve(d3.curveMonotoneX);\n\n  // Make the changes\n  svg.select(\".line0\")   // change the line\n  .duration(750)\n  .attr(\"d\", lineShareValue(distData));\n\n  svg.select(\".line1\")   // change the line\n  .duration(750)\n  .attr(\"d\", lineShareNumber(distData));\n\n  svg.select('.x.axis')\n  .duration(750)\n  .call(d3.axisBottom(x));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/share_tracking.js","import { render } from './scripts/data';\n\nwindow.addEventListener('DOMContentLoaded', render)\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","import { drawShares } from './share_tracking.js';\nimport { drawDistributions } from './distributions.js';\n\nconst publicSpreadsheetUrl = '1Qjl_H4Mf7ChN0UqricRmArzdjIiXQ6fnTIq_OZqKrbU';\n\nexport const render = () => {\n  loading();\n  Tabletop.init({\n    key: publicSpreadsheetUrl,\n    callback: draw,\n    simpleSheet: false\n  })\n}\n\nconst draw = (data, tabletop) => {\n\n  // const update = document.getElementById('update');\n  // $(update).on('click', () => {\n  //   updateData\n  // });\n\n\n  $(\".fa-spinner\").css(\"display\", \"none\");\n  const shareTracking = tabletop.sheets(\"John Copy of ShareTracking\").elements;\n  const distributions = tabletop.sheets(\"TestInterestPurchases\").elements;\n\n  drawShares(shareTracking);\n  drawDistributions(distributions);\n\n}\n\nconst loading = () => {\n  $(\".fa-spinner\").css(\"display\", \"inline-block\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/data.js","import { updateData } from './share_tracking.js';\n\nexport const drawDistributions = distData => {\n  //\n  const data = d3.nest()\n    // .key(function(d) { return d.Date; })\n    .key(function(d) { return d['Name']; })\n    .rollup(function(d) {\n     return d3.sum(d, function(g) {return g['Shares']; });\n   }).entries(distData);\n\n  data.forEach(function(d) {\n    d.Date = d.Date;\n    //\n    d['Name'] = d.key;\n    d['Shares'] = Math.round(d.value);\n  });\n\n  const parseTime = d3.timeParse(\"%m/%d/%Y\");\n\n  const cMonth = new Date().getMonth() + 1;\n  const cYear = new Date().getFullYear();\n\n  const startYear = 2017;\n  let startMonth = 6;\n  const yearDif = cYear - startYear;\n  const inc =  cMonth + yearDif * 12 - startMonth;\n  let yearInc = startYear;\n\n  let arrayDates = [];\n\n  for (let i = 0; i <= inc; i++) {\n\n    let month = startMonth + i;\n    let incDate;\n    if (month > 12) {\n      month = 1;\n      yearInc = startYear + 1;\n    }\n\n    incDate =  new Date(`${yearInc}-${month}-02`);\n\n    arrayDates.push(incDate);\n  }\n\n  const dateMap = (value, person) => {\n\n    let graphData = [];\n\n    let nameFilter;\n\n    if (person === \"Total\") {\n      nameFilter = distData;\n    } else {nameFilter = _.filter(distData, d => {\n       return d.Name === person || d.Name === \"Valuation\";\n      });\n    }\n\n    let sumValues;\n\n    for (let j = 0; j < arrayDates.length; j++ ) {\n      let dateComp = arrayDates[j];\n      const dateFilter = _.filter(nameFilter, d => {\n        return new Date(d.Date).getTime() < dateComp.getTime();\n      });\n\n      if (value === \"Price\" && dateFilter.length > 0) {\n        let d = dateFilter.length - 1;\n        // convert price from string to int\n        // debugger\n        sumValues = parseInt(dateFilter[d][\"Price\"]);\n\n      } else {\n        // debugger\n        const removePrice = _.filter(dateFilter, d => {\n          // debugger\n          return d['Name'] !== 'Valuation';\n        });\n        sumValues = _.reduce(removePrice, (acc, num) => {\n          // debugger\n          if (num['Name'] !== 'Valuation') {\n            // debugger\n            return parseInt(acc) + parseInt(num[value]);\n          }\n        }, 0);\n      }\n\n\n\n\n      const object = {\n         date: arrayDates[j],\n         value: sumValues\n       }\n       // debugger\n\n      graphData.push(object);\n    }\n    // debugger\n    return graphData;\n  }\n\n  const findBalance = (obj) => {\n    obj[\"Balance\"] = []\n\n  for (let i = 0; i < obj[\"Earned\"].length; i++) {\n    // debugger\n    obj[\"Balance\"][i] = {\"date\": obj[\"Earned\"][i].date , \"value\": obj[\"Price\"][i].value * obj[\"Shares\"][i].value }\n    // obj[\"Balance\"][i] = {\"date\": obj[\"Earned\"][i].date , \"value\": obj[\"Earned\"][i].value + obj[\"Principle\"][i].value }\n  }\n// shares * price = balance // earned + prinicple = balance\n    return obj;\n\n  }\n\n\n\n    // const earningsData = dateMap(\"Shares\", \"Matt\");\n    // const dataByPerson = [];\n    const getDataByPerson = name => {\n      //\n      const dataByPerson = {\n        \"Shares\": dateMap(\"Shares\", name),\n        \"Principle\": dateMap(\"Value\", name),\n        \"Earned\": dateMap(\"MoneyMade\", name),\n        \"Price\": dateMap(\"Price\", name)\n        //\"Balance\":\n      }\n\n      // dataByPerson.push(dateMap(\"Shares\", name));\n      // dataByPerson.push(dateMap(\"Value\", name));\n      // dataByPerson.push(dateMap(\"MoneyMade\", name));\n      const dataByPersonWithBalance = findBalance(dataByPerson)\n      return dataByPersonWithBalance;\n    }\n\n    console.log(getDataByPerson(\"Matt\"))\n    let arrayOfNames = []\n    for (var i = 0; i < data.length; i++) {\n      arrayOfNames.push(data[i].key)\n    }\n    arrayOfNames.push(\"Total\")\n\n    const nameDataMapping = array => {\n      const arrayOfObjects = []\n\n      for (var i = 0; i < arrayOfNames.length; i++) {\n      //  arrayOfObjects.push(getDataByPerson(arrayOfNames[i]))\n        arrayOfObjects[arrayOfNames[i]] = getDataByPerson(arrayOfNames[i])\n\n      }\n      return arrayOfObjects\n\n    }\n\n    const finalData = nameDataMapping(arrayOfNames)\n    // debugger\n\n\n    // circle = earned\n    // line = valuation ( price * num of shares)\n    // bar = shares\n    // principle = line off of bar\n    // legend only has price\n\n\n\n\n    //make price static\n\n//    var principleData = datamap(principle)\n\n\n  // const function (creates another function for date)\n\n  data.forEach(d => {\n    //\n    d.Date = parseTime(d.Date);\n    // console.log(d.Date)\n    d['Name'] = d['Name'];\n    d[\"Shares\"] = +d[\"Shares\"];\n    d[\"Earned\"] = +d[\"Earned\"];\n    d[\"Balance\"] = +d[\"Balance\"];\n  });\n\n  const tooltip = d3.select('#pie')\n    .append('div')\n    .attr('class', 'tooltip');\n\n  tooltip.append('div')\n    .attr('class', 'label');\n\n  tooltip.append('div')\n    .attr('class', 'count');\n\n  tooltip.append('div')\n    .attr('class', 'percent');\n\n  const width = 360;\n  const height = 360;\n  const radius = Math.min(width, height) / 2;\n\n  // const color = d3.scaleOrdinal(d3.schemeCategory20c);\n\n  const color = d3.scaleOrdinal()\n    .range([\n      \"#2C93E8\",\n      \"#838690\",\n      \"#F56C4E\",\n      \"#C2E812\",\n      \"#EFC7C2\",\n      \"#7A5C61\",\n      \"#7E4E60\"\n    ]);\n\n  const svg = d3.select('#pie').append('svg')\n    // .attr('width', \"75%\")\n    // .attr('height', \"75%\")\n    // .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    // .attr(\"viewBox\", \"0 0 360 360\")\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', 'translate(' + (width / 2) +\n      ',' + (height / 2) + ')');\n\n  const donutWidth = 75;\n\n  const arc = d3.arc()\n    .innerRadius(radius - donutWidth)\n    .outerRadius(radius);\n\n  const pie = d3.pie()\n    .value(function(d) { return d[\"Shares\"]; })\n    .sort(null);\n\n\n  const path = svg.selectAll('path')\n    .data(pie(data))\n    .enter()\n    .append('path')\n    .attr('d', arc)\n    .style('opacity', '0.6')\n    .attr('fill', function(d, i) {\n      return color(d.data[\"Name\"]);\n    })\n    .on('click', d => {\n      console.log(data)\n      // const month = data.filter(d => d.date.getMonth() === 0);\n\n\n      const filteredData = data.filter( (el, idx) => {\n        // if (idx === 20) {\n        //\n\n        // }\n        // console.log(data)\n        return el['Name'] === d.data.Name\n      })\n      //   const parseTime = d3.timeParse(\"%m/%d/%Y\");\n      // filteredData.forEach(d => {\n      //   d.Date = parseTime(d.Date);\n      //   d['Name'] = d['Name'];\n      //   d[\"Price\"] = +d[\"Price\"];\n      //   d[\"Shares\"] = +d[\"Shares\"];\n      //   d[\"Total Account Value\"] = +d[\"Value\"];\n      // });\n      // console.log(filteredData)\n      // const data = d3.nest()\n      //   // .key(function(d) { return d.Date; })\n      //   .key(function(d) { return d['Name']; })\n      //   .rollup(function(d) {\n      //    return d3.sum(d, function(g) {return g['Shares']; });\n      //  }).entries(distData);\n\n      updateData(filteredData);\n    })\n    .on('mouseover', function(d) {\n    const total = d3.sum(data.map(function(d) {\n      return d[\"Shares\"];\n    }));\n    d3.select(this).style('opacity', '1');\n    d3.select('.dist-label').style('opacity', '0');\n\n    const percent = Math.round(1000 * d.data[\"Shares\"] / total) / 10;\n      tooltip.select('.label').html(d.data[\"Name\"]);\n      tooltip.select('.count').html(`${d.data[\"Shares\"]} shares`);\n      tooltip.select('.percent').html(percent + '%');\n      tooltip.style('display', 'flex');\n  })\n  .on('mouseout', function() {\n    d3.select(this).style('opacity', '0.6')\n    d3.select('.dist-label').style('opacity', '1');\n    tooltip.style('display', 'none');\n  });\n\n  const distLabel = d3.select('#pie')\n    .append('div')\n    .attr('class', 'dist-label')\n    .text('Distributions');\n\n  // const legendRectSize = 18;\n  // const legendSpacing = 4;\n\n  // const legend = svg.selectAll('.legend')\n  //   .data(color.domain())\n  //   .enter()\n  //   .append('g')\n  //   .attr('class', 'legend')\n  //   .attr('transform', function(d, i) {\n  //     const height = legendRectSize + legendSpacing;\n  //     const offset =  height * color.domain().length / 2;\n  //     const horz = -2 * legendRectSize;\n  //     const vert = i * height - offset;\n  //     return 'translate(' + horz + ',' + vert + ')';\n  //   });\n  //\n  // legend.append('rect')\n  //   .attr('width', legendRectSize)\n  //   .attr('height', legendRectSize)\n  //   .style('fill', color);\n  //\n  // legend.append('text')\n  //   .attr('x', legendRectSize + legendSpacing)\n  //   .attr('y', legendRectSize - legendSpacing)\n  //   .text(function(d) { return d; });\n\n  // const distData =\n\n  // function updateData(distData) {\n  //   const parseTime = d3.timeParse(\"%m/%d/%Y\");\n  //\n  //   distData.forEach(d => {\n  //     d.Date = parseTime(d.Date);\n  //     d[\"Price\"] = +d[\"Price\"];\n  //     d[\"Shares\"] = +d[\"Shares\"];\n  //     d[\"Value\"] = +d[\"Total Account Value\"];\n  //   });\n  //\n  //   // Scale the range of the distData again\n  //   x.domain([distData[0].Date, distData[distData.length - 1].Date]);\n  //   y0.domain(d3.extent(distData, d => d[\"Price\"]));\n  //   y1.domain(d3.extent(distData, d => d[\"Shares\"]));\n  //\n  //   // Select the section we want to apply our changes to\n  //   let svg = d3.select('#line').transition();\n  //\n  //\n  //   const lineShareValue = d3.line()\n  //     .x(d => x(d.Date))\n  //     .y(d => y0(d[\"Price\"]))\n  //     .curve(d3.curveMonotoneX);\n  //\n  //   const lineShareNumber = d3.line()\n  //     .x(d => x(d.Date))\n  //     .y(d => y1(d[\"Shares\"]))\n  //     .curve(d3.curveMonotoneX);\n  //\n  //   // Make the changes\n  //   svg.select(\".line0\")   // change the line\n  //       .duration(750)\n  //       .attr(\"d\", lineShareValue(distData));\n  //\n  //   svg.select(\".line1\")   // change the line\n  //       .duration(750)\n  //       .attr(\"d\", lineShareNumber(distData));\n  //\n  //   svg.select('.x.axis')\n  //     .duration(750)\n  //     .call(d3.axisBottom(x));\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scripts/distributions.js"],"sourceRoot":""}